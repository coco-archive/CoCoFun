00100 	ORG	$500000110 RICK1R	EQU	$E0000120 RICK2R	EQU	$108A00130 RICK1L	EQU	$131400140 RICK2L	EQU	$15B600150 BADGUY	EQU	$185C00160 BULLET	EQU	$1A9C00170 RICKNL	EQU	$1C6E00180 RICKNR	EQU	$1AB700190 	INCLUDE	MACRO200200 	INCLUDE	MACRO300210 	SETDP	$5000220 XAXIS	FCB	$7F00230 YAXIS	FCB	$7500240 MEMAR	FDB	$624000250 TEMPA	FDB	$477800260 XCOUNT	FDB	$4F6500270 BUBBLE	FDB	$505600280 OFFSET	FDB	$596000290 SCENE	FCB	$4A00300 XGOOD	FCB	$4200310 YGOOD	FCB	$4900320 GDTM1	FDB	$6A0000330 GDTM2	FDB	000340 DFLAG	FCB	000350 POINTS	RMB	600360 TEMRES	FDB	400370 FLAG	FCB	000380 FLAG2	FCB	000390 FLAG3	FCB	000400 COSFLG	FCB	000410 PRCOL	FCB	17000420 PRCOUT	FCB	000430 PRCNT	FCB	000440 UP1	FCC	/1Up:/00450 	FCB	000460 FIR	RMB	1200470 BADMEN	RMB	800480 STACK	RMB	6000490 PRINT	PSHS	U00500 	LDB	YAXIS00510 	CLRA00520 	CMPB	#800530 	BLO	PSET100540 	SUBB	#800550 	CMPB	#800560 	BLO	PSET200570 	SUBB	#800580 	INCA00590 PSET2	INCA00600 PSET1	TST	SCENE00610 	BEQ	PR00000620 	ADDA	#600630 PR000	STA	$FFA300640 	LDA	#800650 	MUL00660 	LDA	#12800670 	MUL00680 	ADDA	#$6000690 	TFR	D,X00700 	LDB	XAXIS00710 	LDA	#400720 	MUL00730 	ABX00740 	LDY	MEMAR00750 PR001	LDA	,Y+00760 	TSTA00770 	BEQ	PREND00780 	SUBA	#3300790 	LDB	#800800 	MUL00810 	ADDD	#6160500820 	TFR	D,U00830 	LDA	#800840 	STA	PRCNT00850 PR002	LDA	,U+00860 	BSR	PRTROT00870 	LEAX	124,X00880 	DEC	PRCNT00890 	BNE	PR00200900 	LEAX	-1020,X00910 	BRA	PR00100920 PRTROT	LDB	#400930 	STB	PRCOUT00940 LDCL	LDB	PRCOL00950 	TSTA00960 	BPL	PRROT100970 	ANDB	#1500980 PRROT1	ROLA00990 	BPL	PRROT201000 	ANDB	#24001010 PRROT2	STB	,X+01020 	ROLA01030 	DEC	PRCOUT01040 	BNE	LDCL01050 	RTS01060 PREND	PULS	U01070 	RTS01080 PUT	LDD	OFFSET01090 	SUBD	#201100 	SUBD	MEMAR01110 	STD	R1+201120 	STD	END+201130 	STD	ADDY+201140 	LDD	XAXIS01150 	ADDA	#201160 	ANDA	#12701170 	LDX	MEMAR01180 	STA	TEMPA+101190 	CLR	XCOUNT+101200 	TST	SCENE01210 	BNE	PNXT01220 	CLRA01230 	BRA	PNXT101240 PNXT	LDA	#601250 PNXT1	STA	$FFAB01260 	INCA01270 	STA	$FFAC01280 	INCA01290 	STA	$FFAD01300 	LDA	$FF9101310 	ORA	#101320 	STA	$FF9101330 	LDA	#12801340 	MUL01350 	ADDD	TEMPA01360 	ADDD	#$600001370 	TFR	D,Y01380 CHEK1	LDD	,X++01390 	INC	XCOUNT+101400 	INC	XCOUNT+101410 	CMPA	#$FF01420 	BEQ	ADDY01430 STA	STD	BUBBLE01440 	LDD	,Y01450 R1	STD	800,X01460 	LDA	BUBBLE01470 	TFR	A,B01480 	ANDA	#1501490 	TSTA01500 	BEQ	FLY0001510 	LDB	,Y01520 	ANDB	#24001530 	STB	,Y01540 	ORA	,Y01550 	STA	,Y01560 FLY00	LDB	BUBBLE01570 	ANDB	#24001580 	TSTB01590 	BEQ	BLAR01600 	LDA	,Y01610 	ANDA	#1501620 	STA	,Y01630 	ORB	,Y01640 	STB	,Y01650 BLAR	LEAY	1,Y01660 CHEK03	LDA	BUBBLE+101670 	ANDA	#1501680 	TSTA01690 	BEQ	FLY0101700 	LDB	,Y01710 	ANDB	#24001720 	STB	,Y01730 	ORA	,Y01740 	STA	,Y01750 FLY01	LDB	BUBBLE+101760 	ANDB	#24001770 	TSTB01780 	BEQ	BLAR101790 	LDA	,Y01800 	ANDA	#1501810 	STA	,Y01820 	ORB	,Y01830 	STB	,Y01840 BLAR1	LEAY	1,Y01850 	BRA	CHEK101860 ADDY	STD	800,X01870 	LDD	,X++01880 	CMPA	#$FF01890 	BEQ	END01900 	LEAY	128,Y01910 	EXG	Y,D01920 	SUBD	XCOUNT01930 	CLR	XCOUNT+101940 	EXG	Y,D01950 	BRA	STA01960 END	STD	800,X01970 ENDD	LDA	$FF9101980 	ANDA	#$FE01990 	STA	$FF9102000 	RTS02010 DECOMP	LDX	#$600002020 	LDA	#302030 	STA	DFLAG02040 	PSHS	U02050 	LDA	#602060 	LDB	SCENE02070 	MUL02080 	STB	$FFA302090 	LDY	#$E00+614402100 DSUB	LDA	,Y+02110 	CMPA	#$FF02120 	BEQ	DDSTR02130 	STA	,X+02140 	CMPX	#$800002150 	BLO	DSUB02160 	DEC	DFLAG02170 	BEQ	DSTOP02180 	INC	$FFA302190 	LDX	#$600002200 	BRA	DSUB02210 DDSTR	LDD	,Y++02220 	TFR	D,U02230 	LDA	,Y+02240 DSTR0	LEAU	-1,U02250 	STA	,X+02260 	CMPU	#002270 	BEQ	DSUB02280 	CMPX	#$800002290 	BLO	DSTR002300 	DEC	DFLAG02310 	BEQ	DSTOP02320 	LDX	#$600002330 	INC	$FFA302340 	BRA	DSTR002350 DSTOP	PULS	U02360 	RTS02370 CLEAR	LDD	XAXIS02380 	ADDA	#202390 	ANDA	#12702400 	LDX	MEMAR02410 	STA	TEMPA+102420 	CLR	XCOUNT+102430 	TST	SCENE02440 	BNE	CNXT02450 	CLRA02460 	BRA	CNXT102470 CNXT	LDA	#602480 CNXT1	STA	$FFAB02490 	INCA02500 	STA	$FFAC02510 	INCA02520 	STA	$FFAD02530 	LDA	$FF9102540 	ORA	#102550 	STA	$FF9102560 	LDA	#12802570 	MUL02580 	ADDD	TEMPA02590 	ADDD	#$600002600 	TFR	D,Y02610 CCEK1	LDD	,X++02620 	INC	XCOUNT+102630 	INC	XCOUNT+102640 	CMPA	#$FF02650 	BEQ	ADD02660 STA2	STA	,Y+02670 CCEK03	STB	,Y+02680 	BRA	CCEK102690 ADD	LDD	,X++02700 	CMPA	#$FF02710 	LBEQ	ENDD02720 	LEAY	128,Y02730 	EXG	Y,D02740 	SUBD	XCOUNT02750 	CLR	XCOUNT+102760 	EXG	Y,D02770 	BRA	STA202780 SCORE	LDX	#POINTS+302790 	LDY	#TEMRES+302800 	ANDCC	#$FE02810 	LDA	,-X02820 	ADCA	#$1002830 	DAA02840 	STA	,-Y02850 	LDA	,-X02860 	ADCA	#002870 	DAA02880 	STA	,-Y02890 	LDA	,-X02900 	ADCA	#002910 	DAA02920 	STA	,-Y02930 	LDA	TEMRES02940 	STA	POINTS02950 	PSHS	A02960 	ANDA	#24002970 	RORA02980 	RORA02990 	RORA03000 	RORA03010 	CMPA	#1003020 	BLO	SLOOP303030 	CLRA03040 SLOOP3	TFR	A,B03050 	PULS	A03060 	ANDA	#1503070 	EXG	A,B03080 	ADDD	#$303003090 	STD	102403100 	LDA	TEMRES+103110  	STA	POINTS+103120 	PSHS	A03130 	ANDA	#24003140 	RORA03150 	RORA03160 	RORA03170 	RORA03180 	ANDA	#1503190 	TFR	A,B03200 	PULS	A03210 	ANDA	#1503220 	EXG	A,B03230 	ADDD	#$303003240 	STD	102603250 	LDA	TEMRES+203260 	STA	POINTS+203270 	PSHS	A03280 	ANDA	#24003290 	RORA03300 	RORA03310 	RORA03320 	RORA03330 	TFR	A,B03340 	PULS	A03350 	ANDA	#1503360 	EXG	A,B03370 	ADDD	#$303003380 	STD	102803390 	CLR	103003400 	LDD	#$060003410 	STD	XAXIS03420 	LDD	#102403430 	STD	MEMAR03440 	LDA	#17003450 	STA	PRCOL03460 	JSR	CHNGSC03470 	JSR	PRINT03480 	JSR	CHNGSC03490 	JSR	PRINT03500 	RTS03510 CHNGSC	COM	SCENE03520 	TST	SCENE03530 	BEQ	CSC00003540 	LDA	#303550 	LDB	#803560 	BRA	CSC00103570 CSC000	LDA	#403580 	LDB	#903590 CSC001	STA	$FFA603600 	STA	$FFAE03610 	STB	$FFA703620 	STB	$FFAF03630 	RTS03640 INTH	LDA	$FF9203650 	RTI03660 KEYIN	PSHS	U03670 	JSR	[$A000]03680 	PULS	U03690 	RTS03700 JOYIN	PSHS	U03710 	JSR	[$A00A]03720 	PULS	U03730 	RTS03740 START	CLR	$7103750 	HALT	#INTH,#STACK+6003760 	LDX	#XAXIS03770 	LDY	#$FFB003780 PALSET	LDA	,X03781 	CLR	,X+03790 	STA	,Y+03791 	CMPY	#$FFBF03792 	BLO	PALSET03800 	LDX	#BADMEN03810 CLRBD	CLR	,X+03820 	CMPX	#BADMEN+803830 	BLO	CLRBD03840 	CLR	FLAG303850 	LDX	#$FFA003860 	CLR	FLAG203870 SLD	LDA	,X03880 	STA	8,X03890 	LEAX	1,X03900 	CMPX	#$FFA803910 	BLE	SLD03920 	LDA	#$5003930 	TFR	A,DP03940 	LDX	#003950 	STX	POINTS03960 	STX	POINTS+203970 	STX	POINTS+403980 	STX	FIR03990 	STX	FIR+204000 	STX	FIR+404010 	STX	FIR+604020 	STX	FIR+804030 	STX	FIR+1004040 	CLR	SCENE04050 	LBSR	DECOMP04060 	INC	SCENE04070 	LBSR	DECOMP04080 	CLR	SCENE04090 	LBSR	CHNGSC04100 	LDD	#13504110 	STD	XGOOD04120 	STD	GDTM104130 	STD	GDTM204140 	LDD	#004150 	STD	POINTS04160 	STD	POINTS+204170 	STD	POINTS+404180 	STD	XAXIS04190 	LDD	#UP104200 	STD	MEMAR04210 	LDA	#17004220 	STA	PRCOL04230 	LBSR	PRINT04240 	LBSR	SCORE04250 	LBSR	CHNGSC04260 	LDD	#$FFFF04270 	STD	$C10004280 	STD	$C10204290 	STD	$C10404300 	LBSR	CHNGSC04310 	LDD	#$FFFF04320 	STD	$C10004330 	STD	$C10204340 	STD	$C10404350 GO	LBSR	KEYIN04360 	CMPA	#1304370 	LBEQ	PAUSE04380 GCONT	LBSR	JOYIN04390 	LDA	$FF0004400 	ANDA	#204410 	BNE	FSKIP04420 	LBSR	FIRE04430 FSKIP	LBSR	BULPUT04440 	LBSR	GENBAD04450 	LBSR	PUTBAD04460 	TST	FLAG204470 	BEQ	JUMP04480 	LDA	YGOOD04490 	ADDA	#804500 	STA	YGOOD04510 	DEC	FLAG304520 	BNE	JSKP04530 	CLR	FLAG204540 JUMP	LDA	$FF0004550 	ANDA	#804560 	BEQ	JGO04570 	TST	FLAG304580 	BEQ	JSKP04590 	INC	FLAG204600 	BRA	JSKP04610 JGO	LDA	YGOOD04620 	CLR	FLAG204630 	LDB	FLAG304640 	CMPB	#804650 	BLO	JNXT04660 	INC	FLAG204670 	BRA	JSKP04680 JNXT	SUBA	#804690 	STA	YGOOD04700 	INC	FLAG304710 JSKP	LDA	$15C04720 	CMPA	#2204730 	BLO	MOVL04740 	CMPA	#4404750 	BHI	MOVR04760 	LBRA	MOVN04770 NXT	SCREEN	SCENE04780 	LBSR	CHNGSC04790 	LDD	$C00004800 	STD	XAXIS04810 	LDD	#$C10004820 	STD	MEMAR04830 	LBSR	CLEAR04840 	LBSR	CLRBAD04850 	LBSR	FXBLL04860 	LBRA	GO04870 MOVL	INC	COSFLG04880 	LDD	XGOOD04890 	TSTA04900 	BLE	MVL04910 	SUBA	#304920 MVL	STD	XGOOD04930 	STD	XAXIS04940 	STD	$C00004950 	LDD	#$C10004960 	STD	OFFSET04970 	TST	SCENE04980 	BNE	MOVL004990 	LDD	#RICK1L05000 	BRA	MOVL105010 MOVL0	LDD	#RICK2L05020 MOVL1	STD	MEMAR05030 	LBSR	PUT05040 	LBRA	NXT05050 MOVR	CLR	COSFLG05060 	LDD	XGOOD05070 	CMPA	#11205080 	BHI	MVR05090 	ADDA	#305100 MVR	STD	XAXIS05110 	STD	XGOOD05120 	STD	$C00005130 	LDD	#$C10005140 	STD	OFFSET05150 	TST	SCENE05160 	BNE	MOVR005170 	LDD	#RICK1R05180 	BRA	MOVL105190 MOVR0	LDD	#RICK2R05200 	BRA	MOVL105210 MOVN	TST	COSFLG05220 	BEQ	MOVN005230 	LDA	$15D05240 	CMPA	#4005250 	BLO	MOVNU05260 	TST	FLAG305270 	BNE	MOVNU05280 	LDD	#RICKNR05290 	BRA	MOVN105300 MOVNU	LDD	#RICK1L05310 	BRA	MOVN105320 MOVN0	LDA	$15D05330 	CMPA	#4005340 	BLO	MOVN205350 	TST	FLAG305360 	BNE	MOVN205370 	LDD	#RICKNL05380 	BRA	MOVN105390 MOVN2	LDD	#RICK1R05400 MOVN1	STD	MEMAR05410 	LDD	#$C10005420 	STD	OFFSET05430 	LDD	XGOOD05440 	STD	$C00005450 	STD	XAXIS05460 	LBSR	PUT05470 	LBRA	NXT05480 PAUSE	LBSR	KEYIN05490 	CMPA	#1305500 	BNE	PAUSE05510 	LBRA	GCONT05520 FIRE	LDX	#FIR05530 FSUB	LDA	,X05540 	TSTA05550 	BEQ	FYES05560 	LEAX	4,X05570 	CMPX	#FIR+1205580 	BHS	FEND05590 	BRA	FSUB05600 FYES	LDA	COSFLG05610 	INC	,X+05620 	STA	,X+05630 	LDD	XGOOD05640 	ADDB	#2205650 	STD	,X05660 	LEAX	-FIR,X05670 	TFR	X,D05680 	LDA	#805690 	MUL05700 	TFR	D,X05710 	LBSR	CHNGSC05720 	LDD	#$FFFF05730 	STD	$C400,X05740 	STD	$C402,X05750 	LBSR	CHNGSC05760 FEND	RTS05770 BULPUT	LDX	#FIR05780 BLLSUB	LDA	,X+05790 	CMPA	#13705800 	BEQ	BLLPLS05810 	TSTA05820 	BNE	BLLYES05830 BLLPLS	LEAX	3,X05840 	CMPX	#FIR+1205850 	BLO	BLLSUB05860 	RTS05870 BLLYES	PSHS	X05880 	LDB	,X+05890 	TSTB05900 	BEQ	BLLR05910 	LDD	,X05920 	CMPA	#505930 	BLE	BRSET05940 	SUBA	#505950 BLLSB	STD	XAXIS05960 	STD	,X05970 	LEAX	-FIR,X05980 	STD	$C002,X05990 	TFR	X,D06000 	LDA	#806010 	MUL06020 	ADDD	#$C40006030 	STD	OFFSET06040 	LDD	#BULLET06050 	STD	MEMAR06060 	LBSR	PUT06070 	PULS	X06080 	BRA	BLLPLS06090 BRSET	LEAX	-2,X06100 	LDA	#13706110 	STA	,X06120 	PULS	X06130 	BRA	BLLPLS06140 BLLR	LDD	,X06150 	CMPA	#12006160 	BHS	BRSET06170 	ADDA	#506180 	BRA	BLLSB06190 FXBLL	LDX	#FIR+1206200 FXSUB	LEAX	-4,X06210 	LDA	,X++06220 	CMPA	#13706230 	BEQ	FXCLR06240 	TSTA06250 	BEQ	FXBL206260 	BRA	FXNXT06270 FXCLR	LEAX	-2,X06280 	CLR	,X06290 	LEAX	2,X06300 	BRA	FXNXT06310 FXBL2	LEAX	-2,X06320 	CMPX	#FIR06330 	BHI	FXSUB06340 	RTS06350 FXNXT	PSHS	X06360 	LEAX	-FIR,X06370 	LDD	$C002,X06380 	STD	XAXIS06390 	TFR	X,D06400 	LDA	#806410 	MUL06420 	ADDD	#$C40006430 	STD	MEMAR06440 	LBSR	CLEAR06450 	PULS	X06460 	BRA	FXBL206470 PUTBAD	LDX	#BADMEN06480 PDLOAD	LDA	,X+06490 	BNE	FBDLOC06500 BDPLUS	LEAX	3,X06510 	CMPX	#BADMEN+806520 	BLO	PDLOAD06530 	RTS06540 FBDLOC	PSHS	X06550 	LDD	,X++06560 	TST	,X06570 	BEQ	PTBDRT06580 	SUBA	#406590 	BRA	PBDNXT06600 PTBDRT	ADDA	#406610 PBDNXT	STD	XAXIS06620 	STD	-2,X06630 	LEAX	-BADMEN,X06640 	STD	$C020,X06650 	TFR	X,D06660 	LDA	#15006670 	MUL06680 	TFR	D,X06690 	LEAX	$C600,X06700 	STX	OFFSET06710 	LDY	#BADGUY06720 	STY	MEMAR06730 	LBSR	PUT06740 	PULS	X06750 	BRA	BDPLUS06760 GENBAD	LDX	#BADMEN06770 GENLD	LDA	,X06780 	BEQ	BDMARK06790 	LEAX	4,X06800 	CMPX	#BADMEN+806810 	BLO	GENLD06820 	RTS06830 BDMARK	INC	,X+06840 	TST	SCENE06850 	BNE	BDLFT06860 	LDD	#$208B06870 	STD	,X++06880 	CLR	,X06890 	BRA	BDCARE06900 BDLFT	LDD	#$8B06910 	STD	,X++06920 	LDA	#106930 	STA	,X06940 BDCARE	LEAX	-BADMEN,X06950 	TFR	X,D06960 	LDA	#15006970 	MUL06980 	ADDD	#$C60006990 	TFR	D,X07000 	PSHS	X07010 	JSR	CHNGSC07020 	PULS	X07030 	LDD	#$FFFF07040 	STD	,X++07050 	STD	,X++07060 	JSR	CHNGSC07070 	RTS07080 CLRBAD	LDX	#BADMEN+807090 BDTST	LEAX	-4,X07100 	LDA	,X07110 	TSTA07120 	BNE	BDCYES07130 BCLRSB	CMPX	#BADMEN07140 	BHI	BDTST07150 	RTS07160 BDCYES	PSHS	X07170 	LEAX	3,X07180 	LEAX	-BADMEN,X07190 	LDD	$C020,X07200 	STD	XAXIS07210 	TFR	X,D07220 	LDA	#15007230 	MUL07240 	TFR	D,X07250 	LEAX	$C600,X07260 	STX	MEMAR07270 	LBSR	CLEAR07280 	PULS	X07290 	BRA	BCLRSB07300 	END	START